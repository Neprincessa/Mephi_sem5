# Лабораторная работа 2
Web -приложение, которое умеет отдавать 2 страницы count_to_get_in.html и
hello_inside.html: первая страница это форма, на которой задаётся вопрос о сумме двух чисел
(два числа должны быть в отрезке от -125 до 347). Числа генерируются на сервере. В форме
должно быть скрытое поле, идентифицирующее вопрос, т. е. пару чисел, в веде хэша, причём
обязательно с подмешиванием, например, серверного времени. То есть если сервер
сгенерирует 2 раза одинаковую пару чисел для суммирования, то скрытое поле во второй раз
должно с наибольшей вероятностью отличаться от первого. Ответ формы передаётся через
POST запрос на сервер.
На сервере, для этой лабораторной работы прямо в сервлете, должна храниться мапа в виде
<key, value> , где сумма чисел — это ключ, а value — то множество (Set<String>) значений
сгенерированных скрытых полей. (Да, прямо в памяти, так как работу с базой еще не
проходили).
При обращении к странице count_to_get_in.html, то есть по GET запросу к ней, после
генерации скрытого поля поле должно быть сохранено в вышеупомянутую мапу.
При получении пост POST запроса с суммой и скрытым параметром нужно проверить
наличие параметра в мапе. Если он там присутствует, то необходимо установить cookie
значение sessionId сгенерированный случайный UID (https://ru.wikipedia.org/wiki/UUID)
И сохранить его в множество выданных sessionId, которое должно быть доступно не только в
нашем сервлете!!! Это можно достичь использовав патерн синглтон .
(https://refactoring.guru/ru/design-patterns/singleton)
Инициализация мапы и множества должно происходить в методе init() сервлета.
Далее нужно реализовать фильтр, который проверяет наличие в cookie установленного
sessionId и , если оно есть, его наличие в множестве выданных sessionId. Получение
множества выданных sessionId нужно инициализировать (вообще-то получать единственный
экземпляр) в методе init().
Если cookie нет и мы получили не запрос на страницу count_to_get_in.html, то нужно делать
redirect на /count_to_get_in.html
Если cookie есть и он валиден (проверка описана выше), то делаем forward на
/hello_inside.html, если запрос еще не туда.
Вывод страницы /hello_inside.html проще будет сделать в отдельном сервлете.
Важное требование: если в браузере есть валидный sessionId, то должно быть невозможно
увидеть страницу count_to_get_in.html. И наоборот, если нет валидного sessionId, то мы не
должны увидеть hello_inside.html.
Разрешается формировать html текст прямо в коде отдельным методом в виде String.
Запускать на контейнере сервлетов Tomcat.
Проект оформлен как maven проект.
